apiVersion: kubedb.com/v1alpha1
kind: Elasticsearch
metadata:
  name: es
  namespace: elk
spec:
  version: "6.3.0-v1"
  replicas: 3
  databaseSecret:
    secretName: es-auth
  configSource:
    configMap:
      name: es-custom-config
  storage:
    storageClassName: "rbd-persist"
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 100Gi
  podTemplate:
    spec:
      env:
        - name: ES_JAVA_OPTS
          value: "-Xms4096m -Xmx4096m"
  serviceTemplate:
    spec:
      type: "LoadBalancer"
  terminationPolicy: "Pause"
